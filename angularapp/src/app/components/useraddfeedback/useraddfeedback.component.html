<h2>Add Feedback</h2>

<form [formGroup]="feedbackForm" (ngSubmit)="addFeedback()">
  <!-- Feedback Textarea -->
  <div>
    <label for="message">Feedback Message:</label>
    <textarea id="message" formControlName="message" rows="2" cols="8"></textarea>
    <div *ngIf="feedbackForm.get('message')?.errors?.required && feedbackForm.get('message')?.touched">
      Message is required.
    </div>
    <div *ngIf="feedbackForm.get('message')?.errors?.minlength && feedbackForm.get('message')?.touched">
      Message must be at least 10 characters long.
    </div>
  </div>

  <!-- Star Rating -->
  <div>
    <label for="rating">Rating:</label>
    <div class="stars">
      <span 
        *ngFor="let star of stars; let i = index" 
        (click)="setRating(i + 1)" 
        [class.selected]="i < feedbackForm.get('rating')?.value">
        â˜…
      </span>
    </div>
    <div *ngIf="feedbackForm.get('rating')?.errors?.required && feedbackForm.get('rating')?.touched">
      Rating is required.
    </div>
    <div *ngIf="feedbackForm.get('rating')?.errors?.min && feedbackForm.get('rating')?.touched">
      Rating must be at least 1.
    </div>
  </div>

  <button type="submit" [disabled]="feedbackForm.invalid">Submit Feedback</button>
</form>

<div *ngIf="successMessage">{{ successMessage }}</div>
<div *ngIf="errorMessage">{{ errorMessage }}</div>
